{% extends "base.html" %}

{% block title %}{{ request.state.t.profile }} â€” Event Pulse{% endblock %}
{% block content %}
    <div class="container">
        <h1>{{ request.state.t.welcome }}, {{ user.name }}!</h1>

        <div class="profile-info">
            <p><strong>{{ request.state.t.username }}:</strong> {{ user.name }}</p>
            <p><strong>{{ request.state.t.email }}:</strong> {{ user.email }}</p>
            {% if user.second_email %}
            <p><strong>{{ request.state.t.second_email }}:</strong> {{ user.second_email }}</p>
            {% endif %}
        </div>

        <div class="actions">
            <a href="/profile_edit" class="waves-effect waves-light btn blue">{{ request.state.t.edit_profile }}</a>
        </div>
    </div>

    <div class="left" style="width:30%">
      <h3>{{ request.state.t.my_queries}}</h3>

      <div id="query-list" hx-get="/profile/query/list" hx-trigger="load" hx-swap="innerHTML"></div>

      <button hx-get="/profile/query/form"
              hx-target="#query-form"
              hx-swap="innerHTML"
              class="waves-effect waves-light btn green">
            <i class="material-icons left">add</i>
        {{ request.state.t.add_query}}
      </button>
      <div id="query-form"></div>
    </div>

    <div class="right" style="width:70%">
      <h3>{{ request.state.t.my_events}}</h3>

      <div id="event-list" hx-get="/profile/events/list" hx-trigger="load" hx-swap="innerHTML"></div>
    </div>
{% endblock %}
